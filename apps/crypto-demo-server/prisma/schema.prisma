datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Coin {
  createdAt       DateTime      @default(now())
  currency        Int?
  description     String?
  id              String        @id @default(cuid())
  marketDataItems MarketData[]
  name            String?
  symbolField     String?
  transactions    Transaction[]
  updatedAt       DateTime      @updatedAt
}

model Transaction {
  amount          Float?
  coin            Coin?     @relation(fields: [coinId], references: [id])
  coinId          String?
  createdAt       DateTime  @default(now())
  id              String    @id @default(cuid())
  transactionDate DateTime?
  transactionType String?
  updatedAt       DateTime  @updatedAt
}

model MarketData {
  coin      Coin?     @relation(fields: [coinId], references: [id])
  coinId    String?
  createdAt DateTime  @default(now())
  id        String    @id @default(cuid())
  marketCap Float?
  price     Float?
  timestamp DateTime?
  updatedAt DateTime  @updatedAt
  volume    Int?
}
